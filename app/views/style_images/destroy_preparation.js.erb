//連打防止のために工夫した　double_clickというクラスをもっているとき削除ボタンをおすとalertが発生する
var image_size = $('.hair_box').length;
var width = $(window).width();

if ( $(".hair_box").hasClass('double_click') ){
    alert("二重クリックは禁止されています。")
    setTimeout(function(){
        $(".hair_box").removeClass('double_click');
    },1000);  
} 
else {
    if ($(".image_label").hasClass("width_80")) {
        $(".image_label").removeClass("width_80");
        $(".image_label").addClass("width_100");
        if (width<=425) {
            $(".image_label").removeClass("res_width_49");
            $(".image_label").addClass("res_width_100");
            if (image_size==5) {
                $(".image_label").removeClass("res_width_100");
                $(".image_label").addClass("res_width_49");
            }
        }
    } 
    else if ($(".image_label").hasClass("width_60")) {
        $(".image_label").removeClass("width_60");
        $(".image_label").addClass("width_80");
        if (width<=425) {
            $(".image_label").removeClass("res_width_100");
            $(".image_label").addClass("res_width_49");
            if (image_size==6) {
                $(".image_label").removeClass("res_width_49");
                $(".image_label").addClass("res_width_100");
            }
        }
    }
    else if ($(".image_label").hasClass("width_40")) {
        $(".image_label").removeClass("width_40");
        $(".image_label").addClass("width_60");
        if (width<=425) {
            $(".image_label").removeClass("res_width_49");
            $(".image_label").addClass("res_width_100");
            if (image_size==7) {
                $(".image_label").removeClass("res_width_100");
                $(".image_label").addClass("res_width_49");
            }
        }
    }
    else if ($(".image_label").hasClass("width_20")) {
        $(".image_label").removeClass("width_20");
        $(".image_label").addClass("width_40");
        if (width<=425) {
            $(".image_label").removeClass("res_width_100");
            $(".image_label").addClass("res_width_49");
            if (image_size==8) {
                $(".image_label").removeClass("res_width_49");
                $(".image_label").addClass("res_width_100");
            }
        }
    }
    
    else if ($(".image_label").hasClass("width_100")) {
        $(".image_label").removeClass("width_100");
        $(".image_label").removeClass("display_none");
        $(".image_label").addClass("width_20");
        if (width<=425) {
            $(".image_label").removeClass("res_width_49");
            $(".image_label").addClass("res_width_100");
            if (image_size==9) {
                $(".image_label").removeClass("res_width_100");
                $(".image_label").addClass("res_width_49");
            }
        }
    }
    var id = <%= @i %>
    $(".image_form").append(`<input name="style_image[arry][]", value=${id} class="hidden">`)
    $(".image_boxes").html("<%= j(render "style_images/style_image_save", hair_arry: @hair_arry) %>");
    $(".hair_box").addClass('double_click');
    setTimeout(function(){
        $(".hair_box").removeClass('double_click');
    },400); 
}